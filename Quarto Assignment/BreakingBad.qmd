---
title: "Breaking Bad"
author: "Maciek Staniszewski"
date: "4/13/2023"
format: html
execute:
  echo: fenced
---

# ASSIGNMENT

Pick a TV show that had its premieres on TV and thus has some viewership numbers reported on Wikipedia. E.g. [Suits](https://en.wikipedia.org/wiki/List_of_Suits_episodes) (see table just above the References)

Then create a short report (you can copy the content from Wikipedia or other pages for this task) that contains, for example:

(do a commit after each step!)

1.  A brief description of the show (use *italics* for names).
2.  A photo with the logo or a shot from the show itself.
3.  A summary of some basic statistics (e.g. on viewership or ratings).
4.  A graph of the viewership over time.
5.  A graph of the episode-to-episode (or season-to-season) changes in viewership.
6.  A short description of the observed changes that includes inline references to numbers (e.g. the viewership decreased by `insert_calculated_number` between seasons 3 and 5).
7.  Make sure your report looks nice -\> this time we're mostly interested in the output and not necessarily the codes used to achieve it.
8.  `render` your report and save it in the relevant folder of your repo.
9.  Commit the changes and push them to Github.

# Breaking Bad

*Breaking Bad* is an American neo-Western crime drama television series created and produced by Vince Gilligan for AMC. Set and filmed in **Albuquerque, New Mexico**, the series follows Walter White (Bryan Cranston), an underpaid, overqualified, and dispirited high-school chemistry teacher who is struggling with a recent diagnosis of stage-three lung cancer.

# Logo

Logo taken from Wikipedia, scaled:

![Breaking Bad Logo](Breaking_Bad_logo.png){width="60%"}

# Summary of Ratings

To produce python plots we first need to install relevant packages using `pip`.

```{python}
import subprocess
import sys

def install(package):
    subprocess.check_call([sys.executable, "-m", "pip", "install", package])

install("pandas")
install("matplotlib")
```

Different *Breaking Bad* seasons received different ratings. Data from *Rotten Tomatoes* taken from Wikipedia is presented below:

```{python}
import pandas as pd
import matplotlib.pyplot as plt

# Load reviews from a static csv file
reviews = pd.read_csv('reviews.csv', sep='\t')

# Create a bar plot
ax = reviews[['Season', "Rotten Tomatoes Score"]].plot(x='Season', kind='bar', title ="Rotten Tomatoes Score", figsize=(15, 10), legend=True, fontsize=12)

# Set axis labels
ax.set_xlabel("Season", fontsize=12)
ax.set_ylabel("Rotten Tomatoes Score", fontsize=12)

# Show the plot
plt.show()

# Flush plot data
plt.clf()
plt.cla()
plt.close()
```

# Viewership Over Time

Similarly to before, we're loading viewership data from a `.csv` file and using a bar plot to show the trend:

```{python}
import pandas as pd
import matplotlib.pyplot as plt

# Load reviews from a static csv file
viewers = pd.read_csv('viewers.csv', sep='\t')

# Create a bar plot
ax = viewers[['Season', "Average Viewership"]].plot(x='Season', kind='bar', title ="Average Viewership", figsize=(15, 10), legend=True, fontsize=12)

# Set axis labels
ax.set_xlabel("Season", fontsize=12)
ax.set_ylabel("Average Viewership (in millions)", fontsize=12)

# Show the plot
plt.show()

# Flush plot data
plt.clf()
plt.cla()
plt.close()
```

# Season-to-Season Changes

Changes across seasons can be visualized similarly:

```{python}
import pandas as pd
import matplotlib.pyplot as plt

# Load reviews from a static csv file
overtime = pd.read_csv('over-time.csv', sep='\t')
overtime.set_index('Season')

# Create a bar plot
ax = overtime[['Season', 'Increase']].plot(x='Season', kind='bar', title ="Viewership Increase", figsize=(15, 10), legend=True, fontsize=12)

# Set axis labels
ax.set_xlabel("Season", fontsize=12, labelpad=-1)
ax.set_ylabel("Viewers Increase (in millions, w.r.t previous season)", fontsize=12)

# Show the plot
plt.show()

# Flush plot data
plt.clf()
plt.cla()
plt.close()
```

We can see, that the biggest increase was between the 4th and 5th season. The 
increase in the last season's viewership increased by over 3 million average
viewers with respect to the initial season.